<main class="doc-terminal-page">
  <%= turbo_frame_tag @terminal_frame_id do %>
    <section
      class="doc-terminal-screen"
      aria-label="Document terminal"
      data-controller="doc-editor"
      data-doc-editor-save-path-value="<%= doc_path(@document) %>"
    >
      <h1 class="doc-terminal-title"><%= @document.title %></h1>
      <div
        class="doc-terminal-content"
        contenteditable="true"
        data-doc-editor-target="content"
        data-action="input->doc-editor#queueSave"
      ><%= raw(@document.editor_html) %></div>
      <footer class="doc-terminal-bottom-bar" aria-label="Terminal status bar">
        <%= render "shared/ig_select",
          name: "insert_block_type",
          selected: "scene_heading",
          options: [
            { label: "Scene Heading", value: "scene_heading" },
            { label: "Action", value: "action" },
            { label: "Character", value: "character" },
            { label: "Dialogue", value: "dialogue" },
            { label: "Parenthetical", value: "parenthetical" },
            { label: "Transition", value: "transition" }
          ],
          action_button: {
            label: "Insert",
            position: "right",
            variant: "primary"
          },
          width: "14rem" %>
        <div class="doc-terminal-bottom-meta">
          <span class="doc-terminal-save-status" aria-label="Save status">
            <span
              class="doc-terminal-save-light"
              data-doc-editor-target="statusLight"
              data-state="idle"
              aria-hidden="true"
            ></span>
          </span>
          <span>manuscript://docs/<%= @document.id %></span>
          <span>Ln 1, Col 1</span>
        </div>
      </footer>
    </section>
  <% end %>
</main>
